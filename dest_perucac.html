<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link  id="favicon" href="slike/logo2.png" rel="shortcut icon" type="image/x-icon"  />
        <title>JEZERO PERUĆAC</title>
        <link rel="stylesheet" type="text/css" href="stilovi.css" />
  </head>
  <body>
		<header>
             <div class='sitelogo'>
                <span class='sitename'><a href ='index.html'>PU<img src='slike/logo2.png' alt='logo2' id='logo2'>OVANJA</a></span>
            </div>
            <ul>
                <li><a href ='index.html' >početak</a></li>
                <li><a href ='destinacije.html' >destinacije</a></li>
                <li><a href ='rezervacije.html' >pregled rezervacija</a></li>
                <li><a href ='kontakt.html' >kontakt</a></li>
            </ul>
        </header>
        <section>
            <div id='opis'>
                <h1>Jezero Perućac</h1>
                Na desnoj obali Drine, samu granicu između Srbije i Bosne i Hercegovine čini i fantastični ekosistem jednog od najlepših veštačkih jezera u Srbiji: prelepi Perućac. Ovo jezero, udaljeno 13 kilometara od Bajine Bašte, nalazi se u samom kanjonu planine Tare, sa njene divlje, osojne strane. Nastalo je pregrađivanjem toka Drine, za potrebe hidroelektrane „Bajina Bašta“, a ova akumulacija dugačka je čak 54 km, te zauzima čitav kanjon Tare sve do Višegrada.Širina ovog kanjona, a sa njime i širina jezera varira od svega stotinu metara, do preko kilometra. Ovo izuzetno veliko jezero mestimično ima dubinu koja prelazi i 80 metara, a njegovo prirodno dno i obale uglavnom su kamenite i stenovite. Sama konfiguracija terena čini njegove obale dosta strmim, pa je jezero veoma duboko već nekoliko metara od obale.
                <form>
                    <div><span>ime i prezime</span><input type="text" id="ime_prezime" ></div>
                    <div><span>broj osoba</span><input type="number" id="broj_osoba" min='1'></div>
                    <div><span>e-mail</span><input type="email" id="mail"></div>
                    <div><span>polazak:</span><select id="polazak">
                        <option value="1">25.05.2019.</option>
                        <option value="2">15.06.2019.</option>
                        <option value="3">10.07.2019.</option>
                        <option value="4">05.08.2019.</option>
                    </select>
                    </div>
                    <input type="submit" value="potvrdi rezervaciju" class="posalji" />
                </form>
                <div id="rez"></div>
            </div>
            <div id='perucac' class='slika1'>
            <div class="slika"></div>
            <div class="slika"></div>
            <div class="slika"></div>
            <div class="slika"></div>
            <div class="slika"></div>
            <div class="slika"></div>
            <div class="slika"></div>
            </div>
        </section>
    </body>
    <script>
        function snimi(putnik){
            var ls_putnik;
            if (localStorage.getItem('putnik') == null){
                ls_putnik = [];
            } else {
                ls_putnik = JSON.parse(localStorage.getItem('putnik'));
            } 
            ls_putnik.push(putnik);
            localStorage.setItem('putnik', JSON.stringify(ls_putnik));
            var ime_prezime = document.querySelector('#ime_prezime').value = ''; 
            var broj_osoba = document.querySelector('#broj_osoba').value = '';
            var mail = document.querySelector('#mail').value = '';
        }

        document.querySelector('.posalji').addEventListener('click', function(e){
            e.preventDefault(); // sprečava proveru na email inputu ali i da toga nema prikazala bi se poruka da email nije validan i sve jedno bi upisao u LS
            var ime_prezime = document.querySelector('#ime_prezime').value;  //da procitamo iz inputa
            var broj_osoba = document.querySelector('#broj_osoba').value;
            var mail = document.querySelector('#mail').value;     
            var opcija = parseInt(document.querySelector('#polazak').value);
            var datum_polaska;
            switch(opcija){
                case 1: datum_polaska = '25.05.2019.';break;
                case 2: datum_polaska = '15.06.2019.';break;
                case 3: datum_polaska = '10.07.2019.';break;
                case 4: datum_polaska = '05.08.2019.';break;
                default: datum_polaska = '25.05.2019.' ;
            }
        /* mala provera da li su uneti podaci u poljima (ovo može da se sad iskomplikuje u svakakve provere ali ovo proverava samo da li su polja prazna ili ne)*/
            if (ime_prezime.trim() == '' || broj_osoba.trim() == '' || mail.trim() == ''){ // trim() sklanja prazna polje ispred i iza stringa
                alert('Sva polja su obavezna!');
                return;
            }
        /**********************************************/
        // document.querySelector("#rez").innerHTML = ('Ime i prezime: ' + ime_prezime + "<br>" + 'Broj osoba: ' + broj_osoba + '<br>' + 'e-mail: ' + mail + "<br>" + 'Polazak: ' + datum_polaska);
            document.querySelector("#rez").innerHTML = ('Rezervacija je uspešno obavljena, hvala!');

            var putnik = {
            ime:ime_prezime,
            broj:broj_osoba,
            mail:mail,
            datum:datum_polaska,
            destinacija: "Perućac"
        };
        snimi(putnik);
        });

    </script>
</html>