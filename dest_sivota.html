<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link  id="favicon" href="slike/logo2.png" rel="shortcut icon" type="image/x-icon"  />
        <title>SIVOTA</title>
        <link rel="stylesheet" type="text/css" href="stilovi.css" />
    </head>
	<body>
		<header>
			<div class='sitelogo'>
			    <span class='sitename'><a href ='index.html'>PU<img src='slike/logo2.png' alt='logo2' id='logo2'>OVANJA</a></span>
			</div>
			<ul>
			  <li><a href ='index.html' >početak</a></li>
			  <li><a href ='destinacije.html' >destinacije</a></li>
			  <li><a href ='rezervacije.html' >pregled rezervacija</a></li>
			  <li><a href ='kontakt.html' >kontakt</a></li>
			</ul>
		</header>
		<section>
            <div id='opis'>
                <h1>Sivota</h1>
                Sivota je malo mesto na jonskoj obali udaljeno 940km od Beograda. Ovo letovalište je poslednjih godina sve popularnije zbog fantastične prirode koja ga okružuje i lepih plaža u neposrednoj blizini.
                Sivotu biraju turisti koji vole mirna letovališta. Sastoji se iz svega nekoliko uličica uz more i nekoliko ulica sa vilama i hotelima na uzvišenju, a uz centralni deo mesta nalazi se veliki park. Sivota ima marinu za jahte i ribarske brodiće, kao i popločano šetalište uz obalu sa dosta restorana i kafića sa lepim baštama za uživanje pored mora. Postoji i mala plaža, ali je gotovo neupotrebljiva, pa je za letovanje u Sivoti neophodan automobil.
                Sivota nema gradsku plažu, ali se plaža Galikos Molos koja je tik uz nju, smatra gradskom. Udaljena je oko 300m od luke, a nalazi se odmah iza marine i do nje možete doći pešice iz većine smeštajnih objekata u Sivoti. Plaža je uska, bez prepoznatljivog tirkiznog mora i može da posluži za kupanje onda kada vam nije do obilaska lepših plaža u okolini.
                Sivota ima vrlo lepu atmosferu za opuštene šetnje uz more i uživanje uz zalazak sunca u nekoj od bašti kafića ili sa klupica koje su poređane duž marine. Zajedno sa nekoliko ostrva koja se nalaze pored, Sivota čini veoma slikovit i autentičan pejzaž.  
                <form>
                    <div><span>ime i prezime</span><input type="text" id="ime_prezime" ></div>
                    <div><span>broj osoba</span><input type="number" id="broj_osoba" min='1'></div>
                    <div><span>e-mail</span><input type="email" id="mail"></div>
                    <div><span>polazak:</span><select id="polazak">
                        <option value="1">25.05.2019.</option>
                        <option value="2">15.06.2019.</option>
                        <option value="3">10.07.2019.</option>
                        <option value="4">05.08.2019.</option>
                    </select>
                    </div>
                    <input type="submit" value="potvrdi rezervaciju" class="posalji" />
                </form>
                <div id="rez"></div>
            </div>
            <div id='sivota' class='slika1'>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
            </div>
        </section>
	</body>
	<script>

        function snimi(putnik){
            var ls_putnik;
            if (localStorage.getItem('putnik') == null){
                ls_putnik = [];
            } else {
                ls_putnik = JSON.parse(localStorage.getItem('putnik'));
            } 
            ls_putnik.push(putnik);
            localStorage.setItem('putnik', JSON.stringify(ls_putnik));
            var ime_prezime = document.querySelector('#ime_prezime').value = ''; 
            var broj_osoba = document.querySelector('#broj_osoba').value = '';
            var mail = document.querySelector('#mail').value = '';
        }
    
        document.querySelector('.posalji').addEventListener('click', function(e){
            e.preventDefault(); // sprečava proveru na email inputu ali i da toga nema prikazala bi se poruka da email nije validan i sve jedno bi upisao u LS
            var ime_prezime = document.querySelector('#ime_prezime').value;  //da procitamo iz inputa
            var broj_osoba = document.querySelector('#broj_osoba').value;
            var mail = document.querySelector('#mail').value;     
            var opcija = parseInt(document.querySelector('#polazak').value);
            var datum_polaska;
            switch(opcija){
                case 1: datum_polaska = '25.05.2019.';break;
                case 2: datum_polaska = '15.06.2019.';break;
                case 3: datum_polaska = '10.07.2019.';break;
                case 4: datum_polaska = '05.08.2019.';break;
                default: datum_polaska = '25.05.2019.' ;
            }
            /* mala provera da li su uneti podaci u poljima (ovo može da se sad iskomplikuje u svakakve provere ali ovo proverava samo da li su polja prazna ili ne)*/
            if (ime_prezime.trim() == '' || broj_osoba.trim() == '' || mail.trim() == ''){ // trim() sklanja prazna polje ispred i iza stringa
                alert('Sva polja su obavezna!');
                return;
            }
            /**********************************************/
            // document.querySelector("#rez").innerHTML = ('Ime i prezime: ' + ime_prezime + "<br>" + 'Broj osoba: ' + broj_osoba + '<br>' + 'e-mail: ' + mail + "<br>" + 'Polazak: ' + datum_polaska);
            document.querySelector("#rez").innerHTML = ('Rezervacija je uspešno obavljena, hvala!');
    
            var putnik = {
            ime:ime_prezime,
            broj:broj_osoba,
            mail:mail,
            datum:datum_polaska,
            destinacija: "Sivota"
            };
            snimi(putnik);
        });
        
    </script>
    </html>
