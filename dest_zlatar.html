<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link  id="favicon" href="slike/logo2.png" rel="shortcut icon" type="image/x-icon"  />
        <title>PLANINA ZLATAR</title>
        <link rel="stylesheet" type="text/css" href="stilovi.css" />
    </head>
	<body>
		<header>
			<div class='sitelogo'>
			    <span class='sitename'><a href ='index.html'>PU<img src='slike/logo2.png' alt='logo2' id='logo2'>OVANJA</a></span>
			</div>
			<ul>
			  <li><a href ='index.html' >početak</a></li>
			  <li><a href ='destinacije.html' >destinacije</a></li>
			  <li><a href ='rezervacije.html' >pregled rezervacija</a></li>
			  <li><a href ='kontakt.html' >kontakt</a></li>
			</ul>
		</header>
		<section id='glavniD'>
            <div id='opis'>
                <h1>Planina Zlatar</h1>
                Zlatar (najviši vrh Golo brdo 1.627 metara) se nalazi između reka Lima, Uvca, Mileševke i Bistrice, na obodu divljine visoravni Peštera, u jugozapadnoj Srbiji. U imenu planine Zlatara sažeta su sva njena besprekorno ekološka svojstva: mirisne livade i bistra smaragdno zelena jezera okružena omorikama i brezama, organska proizvodnja heljde i pijuckanje lekovitog čaja uz odmor na mirisnim jastucima napunjenim lekovitom heljdom, spoj mediteranske i planinske klime, maksimalan broj sunčanih dana /preko 2000 sunčanih sati godišnje/, blagotvorni vazduh obogaćen terpentinom i ozonom, beskrajni veličanstveni vidici… Planina Zlatar po morfologiji, klimi i biljnom pokrivaču, odnosno autentično očuvanoj prirodi, svrstava se u značajne turističke regije Srbije, u kojoj se mogu razvijati sportsko-rekreativni, izletnički, zdravstveno-lečilišni, lovni, kongresni, ekskurzivni i turizam na selu. 
                <form>
                    <div><span>ime i prezime</span><input type="text" id="ime_prezime" ></div>
                    <div><span>broj osoba</span><input type="number" id="broj_osoba" min='1'></div>
                    <div><span>e-mail</span><input type="email" id="mail"></div>
                    <div><span>polazak:</span><select id="polazak">
                        <option value="1">25.05.2019.</option>
                        <option value="2">15.06.2019.</option>
                        <option value="3">10.07.2019.</option>
                        <option value="4">05.08.2019.</option>
                    </select>
                    </div>
                    <input type="submit" value="potvrdi rezervaciju" class="posalji" />
                </form>
                <div id="rez"> </div>
            </div>
            <div id='zlatar' class='slika1'>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
                <div class="slika"></div>
            </div>
        </section>
	</body>
	<script>

        function snimi(putnik){
            var ls_putnik;
            if (localStorage.getItem('putnik') == null){
                ls_putnik = [];
            } else {
                ls_putnik = JSON.parse(localStorage.getItem('putnik'));
            } 
            ls_putnik.push(putnik);
            localStorage.setItem('putnik', JSON.stringify(ls_putnik));
            var ime_prezime = document.querySelector('#ime_prezime').value = ''; 
            var broj_osoba = document.querySelector('#broj_osoba').value = '';
            var mail = document.querySelector('#mail').value = '';
        }
    
        document.querySelector('.posalji').addEventListener('click', function(e){
            e.preventDefault(); // sprečava proveru na email inputu ali i da toga nema prikazala bi se poruka da email nije validan i sve jedno bi upisao u LS
            var ime_prezime = document.querySelector('#ime_prezime').value;  //da procitamo iz inputa
            var broj_osoba = document.querySelector('#broj_osoba').value;
            var mail = document.querySelector('#mail').value;     
            var opcija = parseInt(document.querySelector('#polazak').value);
            var datum_polaska;
            switch(opcija){
                case 1: datum_polaska = '25.05.2019.';break;
                case 2: datum_polaska = '15.06.2019.';break;
                case 3: datum_polaska = '10.07.2019.';break;
                case 4: datum_polaska = '05.08.2019.';break;
                default: datum_polaska = '25.05.2019.' ;
            }
            /* mala provera da li su uneti podaci u poljima (ovo može da se sad iskomplikuje u svakakve provere ali ovo proverava samo da li su polja prazna ili ne)*/
            if (ime_prezime.trim() == '' || broj_osoba.trim() == '' || mail.trim() == ''){ // trim() sklanja prazna polje ispred i iza stringa
                alert('Sva polja su obavezna!');
                return;
            }
            /**********************************************/
            // document.querySelector("#rez").innerHTML = ('Ime i prezime: ' + ime_prezime + "<br>" + 'Broj osoba: ' + broj_osoba + '<br>' + 'e-mail: ' + mail + "<br>" + 'Polazak: ' + datum_polaska);
            document.querySelector("#rez").innerHTML = ('Rezervacija je uspešno obavljena, hvala!');
    
            var putnik = {
            ime:ime_prezime,
            broj:broj_osoba,
            mail:mail,
            datum:datum_polaska,
            destinacija: "Planina Zlatar"
            };
            snimi(putnik);
        });
        
    </script>
    </html>
