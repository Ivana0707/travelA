<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link  id="favicon" href="slike/logo2.png" rel="shortcut icon" type="image/x-icon"  />
		<title>DESTINACIJE</title>
		<link rel="stylesheet" type="text/css" href="stilovi.css" />
	</head>
	<body>
		<header>
			<div class='sitelogo'>
				<span class='sitename'><a href ='index.html'>PU<img src='slike/logo2.png' alt='logo2' id='logo2'>OVANJA</a></span>
			</div>
			<ul>
				<li><a href ='index.html' >početak</a></li>
				<li><a href ='destinacije.html' >destinacije</a></li>
				<li><a href ='rezervacije.html' >pregled rezervacija</a></li>
				<li><a href ='kontakt.html' >kontakt</a></li>
			</ul>
		</header>
		<div class="container">
			<div id='sidebar'>
					<input id='search' type="text"><button id='pretraga'>pretraga</button>
				<div id='filteri'>
					<label><input type="radio" name="c1" id="c0" value="" checked/><span> sve destinacije</span></label><br>
					<label><input type="radio" name="c1" id="c1" value="letovanje"/><span> letovanje</span></label><br>
					<label><input type="radio" name="c1" id="c2" value="zimovanje" /><span> zimovanje </span></label><br>
					<label><input type="radio" name="c1" id="c3" value="vikend" /><span> vikend putovanje</span></label>
				</div>
			</div>
			<div id='galerija'></div>
		</div>
	</body>
	<script>

		var data = {
			destinacije:[
				{ tip: 'vikend putovanje', drzava: 'Srbija', mesto: 'Perućac', trajanje: '3 dana', cena: '5000 rsd', slika:'slike/perucac1.jpg', destlink:'dest_perucac.html'},
				{ tip: 'letovanje', drzava: 'Grčka', mesto: 'Lefkada - Nikiana', trajanje: '15 dana', cena: '30000 rsd', slika:'slike/nikiana8.jpg', destlink:'dest_nikiana.html'},
				{ tip: 'letovanje', drzava: 'Grčka', mesto: 'Halkidiki - Pefkohori', trajanje: '10 dana', cena: '15000 rsd', slika:'slike/pefkohori8.jpg', destlink:'dest_pefkohori.html'},
				// { tip: 'letovanje', drzava: 'Grčka', mesto: 'Halkidiki - Potidea', trajanje: '10 dana', cena: '20000 rsd', slika:'slike/potidea1.jpg', destlink:'dest_potidea.html'},
				{ tip: 'letovanje', drzava: 'Grčka', mesto: 'Egina - Agia Marina', trajanje: '15 dana', cena: '30000 rsd', slika:'slike/egina9.jpg', destlink:'dest_egina.html'},
				{ tip: 'vikend putovanje', drzava: 'Srbija', mesto: 'Planina Zlatar', trajanje: '3 dana', cena: '4000 rsd', slika:'slike/zlatar1.jpg', destlink:'dest_zlatar.html'},
				{ tip: 'zimovanje', drzava: 'Srbija', mesto: 'Planina Zlatar', trajanje: '10 dana', cena: '15000 rsd', slika:'slike/zlatar6.jpg', destlink:'dest_zlatar.html'},
				{ tip: 'zimovanje', drzava: 'Grčka', mesto: 'Planina Olimp', trajanje: '7 dana', cena: '15000 rsd', slika:'slike/olimp1.jpg', destlink:'dest_olimp.html'},
				{ tip: 'letovanje', drzava: 'Grčka', mesto: 'Sivota', trajanje: '10 dana', cena: '5000 rsd', slika:'slike/sivota10.jpg', destlink:'dest_sivota.html'},
				{ tip: 'vikend putovanje', drzava: 'Srbija', mesto: 'Borsko jezero', trajanje: '3 dana', cena: '6000 rsd', slika:'slike/borsko6.jpg', destlink:'dest_borsko.html'}
			]
		};
		
		var sve_destinacije = [];

		for(let i = 0; i < data.destinacije.length; i++){
			// sve_destinacije[i] = document.createElement('div');
			// sve_destinacije[i].classList.add('destinacija');

			// var slikaDestinacije = document.createElement("img");
			// slikaDestinacije.src = data.destinacije[i].slika;
			// sve_destinacije[i].insertAdjacentElement('afterbegin', slikaDestinacije);

			// var naziv = document.createElement('div');
			// naziv.classList.add('nazivSlike');
			// sve_destinacije[i].appendChild(naziv);

			// var link1 = document.createElement("a");
			// link1.href = '#';
			// link1.classList.add("link"); 
			// link1.innerHTML = data.destinacije[i].mesto;
			// naziv.appendChild(link1);

			// var link2 = document.createElement("a");
			// link2.href = '#';
			// link1.classList.add("tip"); 
			// link2.innerHTML = data.destinacije[i].tip;
			// naziv.appendChild(link2);
			sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
			document.querySelector('#galerija').appendChild(sve_destinacije[i]);
		}
		function napravi_div_u_galeriji(dest){
			var novi_div = document.createElement('div');
			novi_div.classList.add('destinacija');

			var slikaDestinacije = document.createElement("img");
			slikaDestinacije.src = dest.slika;
			novi_div.insertAdjacentElement('afterbegin', slikaDestinacije);

			var naziv = document.createElement('div');
			naziv.classList.add('nazivSlike');
			novi_div.appendChild(naziv);

			var link1 = document.createElement("a");
			link1.href = dest.destlink;
			link1.target = '_blank';
			link1.classList.add("link"); 
			link1.innerHTML = dest.mesto;
			naziv.appendChild(link1);

			var link2 = document.createElement("a");
			link2.href = '#';
			link2.classList.add("tip"); 
			link2.innerHTML = dest.tip;
			naziv.appendChild(link2);
			return novi_div;
		}

		function pretrazi(pret){
			var d = pret;  // procitali
			document.querySelector('#galerija').innerHTML = '';  // obrisali
			sve_destinacije = [];  // resetovali
			var ind = -1;
			for(var i = 0; i < data.destinacije.length; i++){
				if (data.destinacije[i].mesto.toLowerCase().indexOf(d) > -1 || data.destinacije[i].drzava.toLowerCase().indexOf(d) > -1){
					sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
					document.querySelector('#galerija').appendChild(sve_destinacije[i]);
					ind = i;
				}else
					if(data.destinacije[i].tip.toLowerCase().indexOf(d) > -1 ){
						sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
						document.querySelector('#galerija').appendChild(sve_destinacije[i]);
						ind = i;
					}
			}
			if (ind == -1){
				document.querySelector('#galerija').innerHTML = "za uneti pojam " + '"' + d + '"' + " nema rezultata pretrage";
				document.querySelector('#galerija').setAttribute("class", "galerija1"); // dodala klasu, da bih sredila izgled 
			}
				
		}
		document.querySelector('#pretraga').onclick = function(){
			pretrazi(document.querySelector('#search').value.toLowerCase());
			// var d = document.querySelector('#search').value.toLowerCase();  // procitali
			// document.querySelector('.galerija').innerHTML = '';  // obrisali
			// sve_destinacije = [];  // resetovali
			// for(var i = 0; i < data.destinacije.length; i++){
			// 	if (data.destinacije[i].mesto.toLowerCase().indexOf(d) > -1 || data.destinacije[i].drzava.toLowerCase().indexOf(d) > -1){
			// 		sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
			// 		document.querySelector('.galerija').appendChild(sve_destinacije[i]);
			// 	}else
			// 		if(data.destinacije[i].tip.toLowerCase().indexOf(d) > -1 ){
			// 			sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
			// 			document.querySelector('.galerija').appendChild(sve_destinacije[i]);
			// 		}
			// }
		}

		document.querySelector("#search").addEventListener('keyup', function(event){
			if (event.keyCode === 13){
				pretrazi(document.querySelector('#search').value.toLowerCase());
			}
		});

		document.querySelector("#filteri").addEventListener('click', function(){
			// var c3 = document.querySelector('#c3').checked;
			var neki ='';
			document.querySelector('#search').value = '';
			// if (c1 == true )     // moze i if (c1)
			// 	neki = 'letovanje';
			// if (c2 == true )     
			// 	neki = 'zimovanje';
			// if (c3 == true )    
			// 	neki = 'vikend putovanje';

	    	if (document.querySelector("input[name='c1']:checked") !== null ){
                neki = document.querySelector("input[name='c1']:checked").value;
                document.querySelector('#galerija').innerHTML = '';
            }

			// var d = neki;  // procitali
			pretrazi(neki);
		// 	if (neki != ''){
		// 		document.querySelector('.galerija').innerHTML = '';  // obrisali
		// 	}
		// 	sve_destinacije = [];  // resetovali
		// 	for(var i = 0; i < data.destinacije.length; i++){
		// 		if (data.destinacije[i].mesto.toLowerCase().indexOf(d) > -1 || data.destinacije[i].drzava.toLowerCase().indexOf(d) > -1){
		// 			sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
		// 			document.querySelector('.galerija').appendChild(sve_destinacije[i]);
		// 		}else{
		// 			if(data.destinacije[i].tip.toLowerCase().indexOf(d) > -1 ){
		// 				sve_destinacije[i] = napravi_div_u_galeriji(data.destinacije[i]);
		// 				document.querySelector('.galerija').appendChild(sve_destinacije[i]);
		// 			}
		// 	}
		// }
	});
	</script>
</html>
